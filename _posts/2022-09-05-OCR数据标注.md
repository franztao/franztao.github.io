---
layout:     post
title:      OCR数据标注
subtitle:   2022年8月
date:       2022-8-31
author:     franztao
header-img: post-bg-re-vs-ng2.jpg
catalog: true
tags:
    - Blog

---

# 一、整体要求

对医药期刊和专利文本图片，OCR字符标注，字符集为ascii码和latex码

# 二、标注对象

典型样例

| 元素     | 定义                 |
| ------ | ------------------ |
| ascii码 | 常见的数字和英文字母         |
| latex码 | 除常见的数字和英文字母外，非中文字符 |
| 中文     | 汉字，包括简体和繁体         |

| 样例                                                                                                       | 标注规则                                                                                                     |
| -------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------- |
| ![](https://raw.githubusercontent.com/franztao/blog_picture/main/marktext/2022-09-30-11-33-19-image.png) | 抛弃冗余的边界被截断字符，标注为”7”                                                                                      |
| ![](https://raw.githubusercontent.com/franztao/blog_picture/main/marktext/2022-09-30-11-42-03-image.png) | (\pm)-Me                                                                                                 |
| ![](https://raw.githubusercontent.com/franztao/blog_picture/main/marktext/2022-09-30-11-45-37-image.png) | ![](https://raw.githubusercontent.com/franztao/blog_picture/main/marktext/2023-01-05-11-22-14-image.png) |
| ![](https://raw.githubusercontent.com/franztao/blog_picture/main/marktext/2022-09-30-12-03-04-image.png) | ![](https://raw.githubusercontent.com/franztao/blog_picture/main/marktext/2023-01-05-11-22-41-image.png) |

# 三、标注原则(按照阅读顺序横向文本-从左至右、竖向文本-也从左至右)

1. 需分清楚大小写情况，比如Equal 不能标注成equal,除特殊难分辨大小写字母如C,O,W,U,S,Z,X,V  
   转写时，数字0、1、2需要和字母O、I(大写i)、Z、l(小写L)进行严格区分，不能相互替换  

2. 正负号标注为\pm  

3. 上标标注例如 ![](https://raw.githubusercontent.com/franztao/blog_picture/main/marktext/2023-01-05-11-23-00-image.png) ,上标范围内的需要括号括住  

4. 下标标注例如 ![](https://raw.githubusercontent.com/franztao/blog_picture/main/marktext/2023-01-05-11-23-20-image.png),下标范围内的需要括号括住  

5. 有换行，标注为 \n  

6. 竖向文本，备注中加入 "竖向"  

7. 空格文字转写规则  
   
   > 空格：只在**分隔拼音/英文单词和表示替代时使用**（中文、英文、数字、符号这四种类别相互之间即使图片上有空格，转写也均不能有空格）。  
   > （1）中文与中文、英文、数字、符号之间均无空格(转写时需将图片中的空格忽略掉)  
   > （2）数字与数字、符号之间均无空格  
   > （3）英文与英文之间，图片上有空格，则转写需空格，图片上无空格，则转写无需空格  
   > （4）**同一英文单词内部字母间由字间距造成的空格**，转写时无需空格  
   > 
   > （5）多个空格相连一起都标注为一个空格

8. 标点符号  
   
   >    1). 标点符号分为通用标点符号和特殊标点符号  
   >    （1）①通用标点符号：键盘上能看到的所有标点符号(同时包含中/英状态下的标点符号)  
   >    （2）②特殊标点符号：键盘上能看到的以外的所有符号，例如✔↖↑↗←→↙↓↘▽◇☆等  
   > 
   >   2).  如何标注
   >    （1）**中英文状态下形态一样符号，不必区分中英文符号**：如：！？：，；-（）" ' 等  应英文符号标注
   >    （2） **中英文状态下形态不同的符号**，中文符号：如【】[]「」 。. 《》<>等，找到对应英文符号标注  
   > 
   > （3）破折号"--"和下划线"_______"必须严格区分，不能互相替代

9. 舍弃情况  
   
   >    1)小语种：非中、英文字母、非数字的其他语言(如：日、韩、阿拉伯语等其他语言)，标注为\1  

10. 注：特殊无法标注的，在备注栏标上，如内容不规则、图片清晰度等、背景干扰等 。只单独一个字符无法标注的用@字符标注，以做区分

11. **除ascii码外非中文字符，其他字符以latex码为标准**

# 四、算法评价指标

1）对每个样例预测出识别的字符串，去除冗余两个以上的空格，跟标注字符串全文完全匹配，计算准确率  
2）据检率，样本中不能用来ocr预测的样本比

统计时，会去除冗余空格，换行、替换易混淆字符三个角度的metric

# 五、附录

## ASCII码

![](https://raw.githubusercontent.com/franztao/blog_picture/main/marktext/2023-01-05-11-10-10-image.png)

## 常用latex码

| 罗马数字   | 标注           |
| ------ | ------------ |
| Ⅱ      | \Roman{2}    |
| Ⅳ，IIII | \Roman{4}    |
| Ⅴ      | \Roman{5}    |
| 其他     | \Roman{数字顺序} |

![](https://raw.githubusercontent.com/franztao/blog_picture/main/marktext/2023-01-05-10-58-20-image.png)

![](https://raw.githubusercontent.com/franztao/blog_picture/main/marktext/2023-01-05-10-59-28-image.png)

![](https://raw.githubusercontent.com/franztao/blog_picture/main/marktext/2023-01-05-10-59-37-image.png)

![](https://raw.githubusercontent.com/franztao/blog_picture/main/marktext/2023-01-05-11-00-00-image.png)
